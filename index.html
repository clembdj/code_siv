
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🚆 Code SIV</title>
  <link rel="icon" href="favicon.ico" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fc;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background-color: #1e90ff;
      color: white;
      padding: 1rem;
      font-size: 1.5rem;
      font-weight: bold;
    }
    input {
      margin: 2rem auto 1rem;
      display: block;
      padding: 0.75rem;
      font-size: 1.25rem;
      border: 2px solid #ccc;
      border-radius: 8px;
      width: 80%;
      max-width: 300px;
    }
    .result {
      margin-top: 1rem;
    }
    .card {
      background: white;
      display: inline-block;
      padding: 1rem 1.25rem;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      margin-top: 1rem;
      text-align: left;
    }
    .card span {
      display: block;
      font-size: 1.1rem;
      margin-top: 0.5rem;
    }
    .renfort {
      color: red;
      font-weight: bold;
    }
    .notfound {
      background: white;
      display: inline-block;
      padding: 1rem;
      border-radius: 12px;
      margin-top: 1rem;
      color: #d9534f;
      font-weight: bold;
    }
    a {
      color: #007bff;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>🚄 Code SIV</header>
  <input type="text" id="trainInput" placeholder="Ex : 19901 ou L110" />
  <div class="result" id="result"></div>

  <script>
    const trains = {
      "19945":{"siv":"Tournai 9","horaires":[{"station":"Lille","time":"16:08"},{"station":"Tournai","time":"16:36"}]},
      "19958":{"siv":"Lille 6","horaires":[{"station":"Tournai","time":"17:25"},{"station":"Lille","time":"17:52"}]},
      "19959":{"siv":"Tournai 7","horaires":[{"station":"Lille","time":"18:08"},{"station":"Tournai","time":"18:35"}]},
      "19966":{"siv":"Lille 6","horaires":[{"station":"Tournai","time":"19:25"},{"station":"Lille","time":"19:52"}]},
      "19967":{"siv":"Tournai 7","horaires":[{"station":"Lille","time":"20:08"},{"station":"Tournai","time":"20:35"}]},
      "19974":{"siv":"Lille 6","horaires":[{"station":"Tournai","time":"21:24"},{"station":"Lille","time":"21:52"}]}
    };

    const journees = {
      "L110": {
        "trains": ["19945", "19958", "19959", "19966", "19967", "19974"],
        "renfort": ["19945", "19974"]
      }
    };

    document.getElementById("trainInput").addEventListener("input", function () {
      const input = this.value.trim().toUpperCase();
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "";

      if (input === "") return;

      if (trains[input]) {
        // Recherche directe par train
        resultDiv.appendChild(createTrainCard(input, trains[input]));
      } else if (journees[input]) {
        // Recherche par journée
        journees[input].trains.forEach(trainNum => {
          const train = trains[trainNum];
          if (train) {
            const card = createTrainCard(trainNum, train, journees[input].renfort?.includes(trainNum));
            resultDiv.appendChild(card);
          }
        });
      } else {
        resultDiv.innerHTML = '<div class="notfound">❌ Aucun code SIV trouvé.</div>';
      }
    });

    function createTrainCard(trainNum, data, isRenfort = false) {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        ✅ <b>Code SIV :</b> <a>${data.siv}</a>
        <span>🕒 ${data.horaires[0].station} : ${data.horaires[0].time}</span>
        <span>🕒 ${data.horaires[1].station} : ${data.horaires[1].time}</span>
        ${isRenfort ? '<span class="renfort">🚨 Renfort</span>' : ''}
      `;
      return div;
    }
  </script>
</body>
</html>
